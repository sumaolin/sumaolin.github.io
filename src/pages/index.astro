---
import Home from "@/components/Home.astro";
import { getPageList } from "./api/post/list";
import config from "urodele.config";
import { sortByPin } from "@/shared/tag";

const allPosts = sortByPin(await getPageList());
const pageSize = config.pagination.size;
const posts = allPosts.slice(0, pageSize);
---

<Home posts={posts} page={0} pages={Math.ceil(allPosts.length / pageSize)} />